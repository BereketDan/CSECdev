{% extends 'base.html' %}

{% load static %}
{% block content %}
<style>
  #member-nav{
    color: rgb(66, 120, 220) !important;
}
</style>
<center>

  
  <script>

           
document.addEventListener('DOMContentLoaded', () => {
  // Functions to open and close a modal
  function openModal($el) {
    $el.classList.add('is-active');
  }

  function closeModal($el) {
    $el.classList.remove('is-active');
  }

  function closeAllModals() {
    (document.querySelectorAll('.modal') || []).forEach(($modal) => {
      closeModal($modal);
    });
  }

  // Add a click event on buttons to open a specific modal
  (document.querySelectorAll('.js-modal') || []).forEach(($trigger) => {
    const modal = $trigger.dataset.target;
    const $target = document.getElementById(modal);

    $trigger.addEventListener('click', () => {
      openModal($target);
    });
  });

  // Add a click event on various child elements to close the parent modal
  (document.querySelectorAll('.modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button') || []).forEach(($close) => {
    const $target = $close.closest('.modal');

    $close.addEventListener('click', () => {
      closeModal($target);
    });
  });

  // Add a keyboard event to close all modals
  document.addEventListener('keydown', (event) => {
    if (event.code === 'Escape') {
      closeAllModals();
    }
  });
});















              
  document.addEventListener('DOMContentLoaded', () => {
  // Functions to open and close a modal
  function openModal($el) {
    $el.classList.add('is-active');
  }

  function closeModal($el) {
    $el.classList.remove('is-active');
  }

  function closeAllModals() {
    (document.querySelectorAll('.modal') || []).forEach(($modal) => {
      closeModal($modal);
    });
  }

  // Add a click event on buttons to open a specific modal
  (document.querySelectorAll('.js-modal-trigger') || []).forEach(($trigger) => {
    const modal = $trigger.dataset.target;
    const $target = document.getElementById(modal);

    $trigger.addEventListener('click', () => {
      openModal($target);
    });
  });

  // Add a click event on various child elements to close the parent modal
  (document.querySelectorAll('.modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button') || []).forEach(($close) => {
    const $target = $close.closest('.modal');

    $close.addEventListener('click', () => {
      closeModal($target);
    });
  });

  // Add a keyboard event to close all modals
  document.addEventListener('keydown', (event) => {
    if (event.code === 'Escape') {
      closeAllModals();
    }
  });
});

</script>

<div id="modal-js-example"  class="modal">
  <div class="modal-background "></div>
  <div class="modal-content " style="height: 80vh; border-radius: 10px; background-color:#151B2D;">
    <section class="section is-responsive">



      <div class="column">
        
        <div class="columns  ">
                  
          <div class="column is-three-fifths is-left" >
<!--        
              <div class="column has-text-white has-text-weight-normal is-size-5  has-text-left" id="logTxt" >
               Add User
              </div> -->

              <span class="icon-text ">
                <span class="icon mt-3">
                  <img src="{% static "images/folder.png" %}" >
                </span>
                <span class="column has-text-white has-text-weight-normal is-size-4  has-text-left">Add Users</span>
              </span>

             
          </div>
      
        </div>

        <form method="POST" action="{% url 'member' %}">
          {% csrf_token %}


        <div class="columns is-centered">
                  
          <div class="column is-three-fifths" >

            <div class="column"><input name="userName" class="input is-rounded is-fullwidth" type="text" placeholder="Username"></div>
            
            <div class="column"><input name="userId" class="input is-rounded is-fullwidth  pb-2" type="text" placeholder="ID"></div>
            <div class="columns  pl-3 pr-3 pt-2">
              <div class="column ">
                  <div class="select  is-rounded  is-fullwidth">
                      <select name="user_sex">
                          <option>Male</option>
                          <option>Female</option>
                      
                      </select>
                  </div>
              </div>
              
          </div>
             
            <div class="columns  pl-3 pr-3 ">
              <div class="column ">
                  <div class="select  is-rounded  is-fullwidth">
                      <select name="depart">
                          <option>Mechanical </option>
                          <option>Material</option>
                          <option>Chemical</option>
                          <option>Communication</option>
                          <option>Power</option>
                          <option>Software</option>
                          <option>Computer Science </option>
                          <option>Civil</option>
                          <option>Architecture</option>
                          <option>Water</option>
                          <option>Applide</option>
              
                      </select>
                  </div>
              </div>

              
          </div>
          
          <div class="columns  pl-3 pr-3 ">
            <div class="column ">
                <div class="select  is-rounded  is-fullwidth">
                    <select name="year">
                        <option>Fisrt</option>
                        <option>Second </option>
                        <option>Third</option>
                        <option>Fourth</option>
                        <option>Fifth</option>
                    
                    </select>
                </div>
            </div>
            
        </div>

          <div class="columns  pl-3 pr-3 ">
            <div class="column ">
                <div class="select  is-rounded  is-fullwidth">
                    <select name="skill">
                        <option>Software Dev</option>
                        <option>Frontend Dev </option>
                        <option>Backend Dev</option>
                        <option>Fullstack Dev</option>
                        <option>Mobile App Dev</option>
                        <option>Bot Dev</option>
                        <option>UI/UX Desginer</option>
                  
                        <option>Desktop Dev</option>
                      
                        
            
                    </select>
                </div>
            </div>

            
        </div>


        <div class="columns is-centered  pl-3 pr-3 pt-3">
            <div class="column ">
        

              <div>
              <button type="submit" class="button is-fullwidth is-rounded " style="background-color: #577CFF; color: white; border: none;  " ><div class="is-size-6" id="btn">Add </div></button>
              </div>
            
            </div>
        </div>





        </div>

        

        
        </div>
        
      </form>





   

      
      </section>
    <!-- Any other Bulma elements you want -->
  </div>
  <button class="modal-close is-large" aria-label="close"></button>
</div>


<!-- <button class="js-modal-trigger" data-target="modal-js-example">
  Open JS example modal
</button> -->
























<div id="modal-js"  class="modal">
  <div class="modal-background "></div>
  <div class="modal-content " style="height: 80vh; border-radius: 10px; background-color:#151B2D;">
    <section class="section is-responsive">



      <div class="column">
        
        <div class="columns  ">
                  
          <div class="column is-three-fifths is-left" >
<!--        
              <div class="column has-text-white has-text-weight-normal is-size-5  has-text-left" id="logTxt" >
               Add User
              </div> -->

              <span class="icon-text ">
                <span class="icon mt-3">
                  <img src="{% static "images/folder.png" %}" >
                </span>
                <span class="column has-text-white has-text-weight-normal is-size-4  has-text-left">Update Users</span>
              </span>

             
          </div>
      
        </div>
       



   

      
      </section>
    <!-- Any other Bulma elements you want -->
  </div>
  <button class="modal-close is-large" aria-label="close"></button>
</div>











  <div style="color: white; font-size: 1.4rem; font-weight: semi bold; float: left; " ><span class="icon-text ">
    <span class="icon mt-3">
      <img src="{% static "images/folder.png" %}" >
    </span>
    <span class="column ">Users({{totalMember_number}})</span>
  </span>
</div>
  <br>  <br>


  <div class="columns is-flex-direction-row is-justify-content-space-between"> 
    <div style="color:  #6c717e; font-size: 1rem; font-weight: normal; padding-top: 0.6rem; margin-left: -9.8rem;">Manage your user here</div>
    
    
    <div class="buttons">
      <a class="button is-primary js-modal-trigger"  data-target="modal-js-example" style="border-radius: 5px; background-color: cornflowerblue;  ">
        <strong style="font-size: 0.9rem; font-weight:normal; padding-left: 10px; padding-right: 10px;">+ Add User</strong>
      </a>
    
    </div>
  </div> 
  <br>



  <div class="columns box is-centered second-col"  style="background-color: #151B2D; height: 70vh; border-radius: 20px; border-left: #6d88e8 solid 15px; overflow-x: scroll;" >
    <div class="column">
      <table class="table  is-borderless  " style="width: 95%; background-color:  #151B2D ;">
        <thead class="has-text-white" style="border-radius: 10px;">
          <tr  class=" is-rounded" style="background-color: #080B15;">
            <th><abbr style="color: #6e82bc;" >Username</abbr></th>
            <th><abbr   style="color: #6e82bc;">ID</abbr></th>
            <th><abbr   style="color: #6e82bc;">Year</abbr></th>
            <th><abbr   style="color: #6e82bc;">Sex</abbr></th>
            <th><abbr   style="color: #6e82bc;">Department</abbr></th>
            <th><abbr   style="color: #6e82bc;">Skill</abbr></th>
            <th><abbr   style="color: #6e82bc;" ></abbr></th>
            <th><abbr   style="color: #6e82bc;" ></abbr></th>
            
    
          </tr>
        </thead>
    
        <tbody class="tb "  style="font-size: 1rem;" >
          {% for memberLists in memberList %}
          <tr style="color: #6c717e; ">
           

 
 
            <td  style="font-size:0.9rem;">{{ memberLists.fisrtname }} </td>
            <td style="font-size:0.9rem;">{{ memberLists.ugr }} </td>
            <td style="font-size:0.9rem;">{{ memberLists.year }} </td>
            <td style="font-size:0.9rem;">{{ memberLists.sex}} </td>
            <td style="font-size:0.9rem;">{{ memberLists.department }} </td>
            <td style="font-size:0.9rem;">{{ memberLists.skill }} </td>
            <td style="font-size:0.9rem; color: cornflowerblue"><a href="updateMember/{{memberLists.id}}" data-target="modal-js"  class="js-modal">Edit</a></td>
            <td style="font-size:0.9rem; color: cornflowerblue"><a href="deleteMember/{{memberLists.id}}">Remove</a></td>
            
      
          </tr>
          {% endfor %}
         
    
         
       
    
        </tbody>
      </table>
      
    </div>
 
 
  </div>








</center>


{% endblock %}
